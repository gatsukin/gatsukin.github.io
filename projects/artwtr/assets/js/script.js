"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return"symbol"==_typeof(r)?r:r+""}function _toPrimitive(e,r){if("object"!=_typeof(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var initFancybox=function(){return{fancybox:Fancybox.bind("[data-fancybox]",{})}};try{var fancybox=initFancybox();console.log("✅ Fancybox initialized.")}catch(e){console.error("⛔️ Error: ".concat(e.message))}var initSidebar=function(){var e=document.querySelector(".sidebar"),r=document.querySelector("#sidebarBtn");if(!e||!r)throw new Error("Sidebar elements not found");var t=function(){return e.classList.toggle("open")};return{toggle:t,addListeners:function(){return r.addEventListener("click",t)},removeListeners:function(){return r.removeEventListener("click",t)}}};try{var sidebar=initSidebar();sidebar.addListeners(),console.log("✅ Sidebar initialized.")}catch(e){console.error("⛔️ Error: ".concat(e.message))}var initPageSlider=function(){var e=document.querySelector(".page__swiper");if(!e)throw new Error("Page slider elements not found");return{instance:new Swiper(e,{direction:"vertical",speed:400,spaceBetween:0,simulateTouch:!1,mousewheel:!0,keyboard:!0,navigation:{nextEl:".js-swiper-button-next",prevEl:".js-swiper-button-prev",disabledClass:"is-disable"},hashNavigation:{watchState:!0}})}},initGallerySlider=function(){var e=document.querySelector(".gallery__slider");if(!e)throw new Error("Gallery slider elements not found");return{instance:new Swiper(e,{speed:400,spaceBetween:2,slidesPerView:"auto",navigation:{nextEl:".gallery__head .slider__setup .slider-next",prevEl:".gallery__head .slider__setup .slider-prev",disabledClass:"is-disable"}})}},initAdvantagesSlider=function(){var e=document.querySelector(".advantages__slider-detail");if(!e)throw new Error("Advantages slider elements not found");return{instance:new Swiper(e,{grabCursor:!0,slidesPerView:"auto",loop:!0,on:{init:function(){document.querySelector(".advantages__slider-detail--control .total").textContent=this.slides.length,document.querySelector(".advantages__slider-detail--control .current").textContent=this.activeIndex+1},slideChange:function(){document.querySelector(".advantages__slider-detail--control .current").textContent=this.activeIndex+1}},navigation:{nextEl:".advantages__slider-detail--control .slider-next",prevEl:".advantages__slider-detail--control .slider-prev",disabledClass:"is-disable"}})}},initContactSlider=function(){var e=document.querySelector(".contacts-slide__slider");if(!e)throw new Error("Contact slider elements not found");return{instance:new Swiper(e,{speed:400,spaceBetween:15,slidesPerView:"auto"})}};try{var pageSlider=initPageSlider();console.log("✅ Page slider initialized.")}catch(e){console.error("⛔️ Error: ".concat(e.message))}try{var gallerySlider=initGallerySlider();console.log("✅ Gallery slider initialized.")}catch(e){console.error("⛔️ Error: ".concat(e.message))}try{var advantagesSlider=initAdvantagesSlider();console.log("✅ Advantages slider initialized.")}catch(e){console.error("⛔️ Error: ".concat(e.message))}try{var contactSlider=initContactSlider();console.log("✅ Contact slider initialized.")}catch(e){console.error("⛔️ Error: ".concat(e.message))}var initDragAndDrop=function(){var e=_objectSpread({maxSize:10485760,allowedTypes:["image/png","image/jpeg","image/svg+xml"],errorMessages:{invalidType:"Допустимые форматы: PNG, JPG, SVG",invalidSize:"Максимальный размер файла: 2MB",readError:"Ошибка при чтении файла"}},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),r={dropZone:document.getElementById("dropZone"),fileInput:document.getElementById("fileInput"),preview:document.querySelector("#preview_bottle_image")};if(!r.dropZone||!r.fileInput||!r.preview)throw new Error("Drag and Drop elements not found");var t={currentFile:null,isDragging:!1},n=function(n){if(function(r){return e.allowedTypes.includes(r.type)?!(r.size>e.maxSize&&(alert(e.errorMessages.invalidSize),1)):(alert(e.errorMessages.invalidType),!1)}(n)){t.currentFile=n;var i=new FileReader;i.onprogress=function(e){if(r.progress){var t=e.loaded/e.total*100;r.progress.value=t}},i.onload=function(e){var t=new Image;t.src=e.target.result,t.classList.add("upload-preview"),r.preview.innerHTML="",r.preview.appendChild(t)},i.onerror=function(){alert(e.errorMessages.readError),o()},i.readAsDataURL(n)}},o=function(){t.currentFile=null,r.preview.innerHTML=""},i=function(e){e.preventDefault(),r.dropZone.classList.toggle("dragover","dragover"===e.type)},a=function(e){e.preventDefault(),r.dropZone.classList.remove("dragover");var t=e.dataTransfer.files;t.length&&n(t[0])},l=function(e){e.target.files.length&&n(e.target.files[0])},s=function(){["dragover","dragleave"].forEach(function(e){r.dropZone.addEventListener(e,i)}),r.dropZone.addEventListener("drop",a),r.fileInput.addEventListener("change",l)},c=function(){r.dropZone.removeEventListener("click",function(){return r.fileInput.click()}),["dragover","dragleave"].forEach(function(e){r.dropZone.removeEventListener(e,i)}),r.dropZone.removeEventListener("drop",a),r.fileInput.removeEventListener("change",l)};return function(){if(!r.dropZone||!r.fileInput)throw new Error("Required elements not found");return s(),{addListeners:s,removeListeners:c,resetState:o}}()};try{var uploader=initDragAndDrop();console.log("✅ Drag and drop initialized")}catch(e){console.error("⛔️ Error: ".concat(e.message))}