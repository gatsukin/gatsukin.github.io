function mapInit(){var myMap=new ymaps.Map("mainMap",{center:[56.010563,92.852572],zoom:5,controls:[]});let points=[],pointsArr=[{coordinates:[56.02057,92.85253],type:"house",name:"Ультрасовременный коттедж в стиле Hi-tech в Сочи",price:"23 млн. руб",link:"/detail.html",city:"г. Сочи",image:"/assets/img/temp/temp1.jpg",sq:"23",views:"390"},{coordinates:[51.02057,92.85253],type:"house",name:"tested",price:"23 млн. руб",link:"/detail.html",city:"г. Сочи",image:"/assets/img/temp/temp2.jpg",sq:"23",views:"100"}];for(var i=0;i<pointsArr.length;i++){let pointLayout=ymaps.templateLayoutFactory.createClass(`\n      <div class="point" id="point-${i}">\n      </div>\n    `),item={type:"Feature",id:`${i+1}`,info:{type:`${pointsArr[i].type}`,name:`${pointsArr[i].name}`,price:`${pointsArr[i].price}`,link:`${pointsArr[i].link}`,city:`${pointsArr[i].city}`,image:`${pointsArr[i].image}`,sq:`${pointsArr[i].sq}`,views:`${pointsArr[i].views}`},geometry:{type:"Point",coordinates:pointsArr[i].coordinates},properties:{balloonContent:"123",clusterCaption:"нежилое готовое",hintContent:"нежилое готовое"},options:{id:`${i+1}`,hasBalloon:!1,hasHint:!1,zIndex:3e3,iconLayout:pointLayout,iconShape:{type:"Circle",coordinates:[10,10],radius:15}}};points.push(item)}window.myObjects=ymaps.geoQuery({type:"FeatureCollection",features:points}).addToMap(myMap);const mapHTMLInner=document.getElementById("HTMLInner");for(let i=0;i<points.length;i++){const el=points[i];let id=`point-${i}`,template=`\n      <div class="card ${el.info.type} opened">\n          <div class="card--wrap">\n            <div class="card--img">\n              <img src="${el.info.image}" alt="">\n            </div>\n            <div class="card__main">\n              <button class="mark">\n                <svg>\n                  <use xlink:href="#star" />\n                </svg>\n              </button>\n              <div class="card__main--title">\n                ${el.info.name}\n              </div>\n              <div class="card__main--city">\n                ${el.info.city}\n              </div>\n              <div class="card__main--price">\n                ${el.info.price}\n              </div>\n              <a href="${el.info.link}" class="card__main--link link">\n                Перейти\n              </a>\n              <div class="info">\n                <div class="square">\n                  <span>${el.info.sq}</span> м<sup>2</sup>\n                </div>\n                <div class="review">\n                  <span>${el.info.views}</span>\n                  <svg>\n                    <use xlink:href="#views" />\n                  </svg>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `;window.myObjects.search(`options.id="${el.id}"`).addEvents("click",function(){document.querySelectorAll(".point").forEach(element=>{element.classList.remove("open")}),mapHTMLInner.classList.remove("scrolled"),mapHTMLInner.innerHTML="",document.getElementById(`${id}`).classList.add("open"),mapHTMLInner.insertAdjacentHTML("afterBegin",template),mapHTMLInner.classList.add("scrolled"),setTimeout(()=>{mapHTMLInner.scrollIntoView({block:"start",behavior:"smooth"})},50)})}}function posadMapInit(){var myMap=new ymaps.Map("posadMap",{center:[56.010563,92.852572],zoom:5,controls:[]}),MyIconContentLayout=ymaps.templateLayoutFactory.createClass("<div>$[properties.iconContent]</div>"),myPlacemarkWithContent=new ymaps.Placemark([56.010563,92.852572],{hintContent:"Наш офис"},{iconLayout:"default#imageWithContent",iconImageHref:"/assets/img/icons/map-point.svg",iconImageSize:[25,25],iconImageOffset:[-12,-12],iconContentOffset:[15,15],iconContentLayout:MyIconContentLayout});myMap.geoObjects.add(myPlacemarkWithContent)}function jkMapInit(){var myMap=new ymaps.Map("jkMap",{center:[56.010563,92.852572],zoom:5,controls:[]}),MyIconContentLayout=ymaps.templateLayoutFactory.createClass("<div>$[properties.iconContent]</div>"),myPlacemarkWithContent=new ymaps.Placemark([56.010563,92.852572],{hintContent:"Наш офис"},{iconLayout:"default#imageWithContent",iconImageHref:"/assets/img/icons/map-point.svg",iconImageSize:[25,25],iconImageOffset:[-12,-12],iconContentOffset:[15,15],iconContentLayout:MyIconContentLayout});myMap.geoObjects.add(myPlacemarkWithContent)}document.getElementById("mainMap")&&ymaps.ready(mapInit),document.getElementById("jkMap")&&ymaps.ready(jkMapInit),document.getElementById("posadMap")&&ymaps.ready(posadMapInit);